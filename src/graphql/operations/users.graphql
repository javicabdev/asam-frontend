# User management queries and mutations (Admin only)

query GetUser($id: ID!) {
  getUser(id: $id) {
    id
    username
    email
    role
    member {
      miembro_id
      numero_socio
      nombre
      apellidos
      correo_electronico
    }
    isActive
    lastLogin
    emailVerified
    emailVerifiedAt
  }
}

query ListUsers($page: Int, $pageSize: Int) {
  listUsers(page: $page, pageSize: $pageSize) {
    id
    username
    email
    role
    member {
      miembro_id
      numero_socio
      nombre
      apellidos
      correo_electronico
    }
    isActive
    lastLogin
    emailVerified
    emailVerifiedAt
  }
}

mutation CreateUser($input: CreateUserInput!) {
  createUser(input: $input) {
    id
    username
    email
    role
    member {
      miembro_id
      numero_socio
      nombre
      apellidos
      correo_electronico
    }
    isActive
    lastLogin
    emailVerified
    emailVerifiedAt
  }
}

mutation UpdateUser($input: UpdateUserInput!) {
  updateUser(input: $input) {
    id
    username
    email
    role
    member {
      miembro_id
      numero_socio
      nombre
      apellidos
      correo_electronico
    }
    isActive
    lastLogin
    emailVerified
    emailVerifiedAt
  }
}

mutation DeleteUser($id: ID!) {
  deleteUser(id: $id) {
    success
    message
    error
  }
}

mutation ResetUserPassword($userId: ID!, $newPassword: String!) {
  resetUserPassword(userId: $userId, newPassword: $newPassword) {
    success
    message
    error
  }
}
